# Compiling BA3 from source

This document describes the steps needed to compile BA3 from source code. If you are unfamiliar with the process of compiling software in a Unix environment it is recommended that you instead download one of the precompiled binaries (for OS X, Windows and Linux) available as a release at github.com/brannala/BA3/releases.

## Requirements

- C++ compiler with C++11 support (the default Makefile assumes GNU compiler g++ is available)
- GNU Scientific Library (available at www.gnu.org/software/gsl/)
- htslib for VCF file support (available at https://github.com/samtools/htslib)
- BA3 source code (available at https://github.com/brannala/BA3/releases)

On Ubuntu/Debian Linux:
```
sudo apt install libgsl-dev libhts-dev
```

On Mac with Homebrew:
```
brew install gsl htslib
```

## Steps

1. Download and decompress the source code file or clone the git repository.

For example, in a Unix environment first ensure git is installed (by typing `git --version`) and then use:
```
git clone https://github.com/brannala/BA3.git
cd BA3
```

2. Compile the BA3 executable using the command:
```
make
```

This creates a single unified executable `BA3` that handles both SNP and microsatellite data.

## Potential Issues

If you do not have gsl or htslib installed in the usual locations you will need to specify the location of the library and header files as variables to make. For example:
```
make INCLFLAGS='-I/path/to/include/' LIBFLAGS='-L/path/to/lib'
```

If htslib is not available, you can compile without VCF support by removing `-lhts` from the Makefile and the htslib includes from main.cpp (VCF input will not be available).

## Assistance

If you have problems compiling send an email to brannala@ucdavis.edu.
